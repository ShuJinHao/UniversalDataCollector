<Window x:Class="UniversalDataCollector.Views.MonitorSettingWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="数据源监控配置" Height="350" Width="500" WindowStartupLocation="CenterScreen">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <TextBlock Text="请配置数据采集源：" FontSize="16" FontWeight="Bold" Margin="0,0,0,15" />

        <GroupBox Header="第一步：选择监控模式" Grid.Row="1" Padding="10">
            <StackPanel Orientation="Horizontal">
                <RadioButton Content="监控单个固定文件 (File)" IsChecked="{Binding IsFileMode}" GroupName="Mode" Margin="0,0,20,0" />
                <RadioButton Content="监控文件夹 (Folder)" IsChecked="{Binding IsFolderMode}" GroupName="Mode" />
            </StackPanel>
        </GroupBox>

        <GroupBox Header="第二步：配置路径地址" Grid.Row="2" Margin="0,15,0,0" Padding="10">
            <StackPanel>
                <StackPanel Visibility="{Binding FilePanelVisibility}">
                    <TextBlock Text="请输入完整文件路径 (例如 D:\Data\run.csv):" />
                    <DockPanel Margin="0,5,0,0">
                        <Button Content="..." Width="30" DockPanel.Dock="Right" Command="{Binding BrowseFileCommand}" />
                        <TextBox Text="{Binding TargetFilePath}" Padding="3" />
                    </DockPanel>
                </StackPanel>

                <StackPanel Visibility="{Binding FolderPanelVisibility}">
                    <TextBlock Text="请输入文件夹路径 (例如 D:\Data\):" />
                    <DockPanel Margin="0,5,0,0">
                        <Button Content="..." Width="30" DockPanel.Dock="Right" Command="{Binding BrowseFolderCommand}" />
                        <TextBox Text="{Binding TargetFolderPath}" Padding="3" />
                    </DockPanel>

                    <TextBlock Text="文件名过滤规则 (例如 *.csv):" Margin="0,10,0,0" />
                    <TextBox Text="{Binding FileNamePattern}" Margin="0,5,0,0" Padding="3" />
                </StackPanel>
            </StackPanel>
        </GroupBox>

        <StackPanel Grid.Row="3" Margin="0,15,0,0" Orientation="Horizontal">
            <TextBlock Text="扫描间隔(秒):" VerticalAlignment="Center" />
            <TextBox Text="{Binding IntervalSeconds}" Width="50" Margin="10,0,0,0" Padding="3" VerticalContentAlignment="Center" />
        </StackPanel>

        <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
            <Button Content="保存配置" Command="{Binding SaveCommand}" Width="100" Height="30" />
        </StackPanel>
    </Grid>
</Window>